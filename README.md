## GigaChat robot

### GigaChat "агент" для управления мобильным роботом.

#### Как это работает:

Принцип действия (очень кратко) может быть описан следующим образом:
- Человек ставит роботу задачу **голосом на естественном языке** - так, как будто он общается с человеком.
- Робот с помощью системы распознавания речи переводит голосовую команду (задачу) в текст.
- Задача подается в качестве промпта (запроса) на вход GigaChat. Предварительно GigaChat «агенту» было «объяснено», что он управляет роботом и «сообщён» полный список команд для управления этим роботом. GigaChat-агентом мы называем чат-бота GigaChat, с которым мы «общаемся» с помощью его API.
- Система компьютерного зрения робота составляет список объектов (предметов) перед роботом.
- GigaChat «оценивает» обстановку и возможные действия робота.
- GigaChat формирует последовательность команд для управляющего компьютера робота — фактически пишет программу для робота.
- Робот выполняет поставленную задачу (написанную программу).

А теперь обо всем подробнее.
Задача, которую мы ставим роботу, звучит так: *«Найди объект N в комнате и подъедь к нему»*. Ниже описано, как мы ее решаем.

Мобильная платформа имеет два колеса и соответственно два мотора, которые управляются контроллером Трик. Контроллер Трик может программироваться на языке Python. Идея состоит в том, что мы описываем все команды управления моторами в виде функций на языке Python, например:  **move_forward(), move_backward(), rotate_left(), rotate_right() и stop()**. Данные функции содержатся в модуле **robot.py**.

Также имеется модуль **image_processing.py** для работы с камерой и для распознавания объектов на кадрах, полученных с камеры с помощью библиотеки **OpenCV** и нейросети **YOLO**. Функции в этом модуле называются **capture()** и **object_detection()**. Также потребовалось написать функцию для определения расстояния до объекта — **get_object_distance()**. Известно, что зная реальный размер объекта, размер фотокадра в пикселях и размер нужного объекта на этом кадре (в пикселях), можно рассчитать расстояние от камеры до объекта. Подробно это описано в статье: [«Find distance from camera to object using Python and OpenCV»](https://pyimagesearch.com/2015/01/19/find-distance-camera-objectmarker-using-python-opencv/).

Итак, в нашем проекте мы настраиваем GigaChat «агента» с помощью его API: фактически формируем промпт (запрос/команду), в котором сообщаем агенту, что он управляет роботом и роботу будет поставлена задача по поиску определенного объекта. Далее GigaChat агенту «сообщаются» в виде промпта вышеописанные функции для управления роботом и для поиска объекта. После всех этих вводных данных мы «просим» GigaChat агента написать нам функцию на Python с учетом всех наших требований, затем сохраняем полученную функцию в отдельный модуль, импортируем его и выполняем функцию.

В директории Trik содержится программный код управления моторами контроллера Трик. Подробнее о контроллере Трик можно почитать [здесь](https://help.trikset.com/trik/programming-code). Передвижение робота осуществляется включением моторов на определенные интервалы времени.
